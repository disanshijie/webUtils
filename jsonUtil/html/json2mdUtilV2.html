<!DOCTYPE html>
<html>

<head>
    <title>json2mdUtil.html</title>

    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
    <script type="text/javascript" src="../../common/js/jquery.min.js"></script>
    <script type="text/javascript" src="../../common/js/txt.export.js"></script>
	<script type="text/javascript" src="../js/postman2md.js"></script>

</head>

<body>
    <iframe src="./head.html" id="menushow" scrolling="no" width="100%" height="40px" frameborder=0> </iframe>
    <div class="panel panel-default">
        <div class="panel-body">
            <!--内容块开始-->
            <div>
<textarea id="json_content" name="RawJson" class="json_input" rows="16" style="width: 100%;" spellcheck="false" placeholder="请输入option值组 空格间隔">
</textarea>
            </div>
			
            <div class="btn-group" role="group" aria-label="...">

                <div style="margin:5px 0">
                     参数：
                    <input id="replaceStr" type="text" style="width:120px" value=""> 
                </div>
                <div style="margin:10px 0">

                    <button type="button" class="btn btn-danger" onclick="Empty();">清空结果</button>
					<button type="button" class="btn btn-danger" onclick="getExample();">来个例子</button>
					<button type="button" class="btn btn-danger" onclick="change();">转化</button>
                    <button type="button" class="btn btn-danger" onclick="download();">下载文档</button>

                </div>
            </div>

            <div>
                <textarea id="translateResult" name="RawJson" class="json_input" rows="16" style="width: 100%;" spellcheck="false" placeholder=""></textarea>
            </div>

            <!--内容块结束-->
            <div>
            </div>
        </div>
        <input type="hidden" id="tabsize" value="1">
        <div class="panel-footer"></div>
    </div>
    <script type="text/javascript">
        if (window.localStorage && localStorage.getItem("content2format")) {
            document.getElementById('content').value = localStorage.getItem("content2format");
            localStorage.setItem("content2format", "");
        }

        function Empty() {
            document.getElementById('json_content').value = '';
            document.getElementById('translateResult').value = '';
        }

        function store() {
            if (window.localStorage) {
                localStorage.setItem("content2format", document.getElementById('content').value);
            }
        }
/*
		var json = '{"key":"value","jian":"zhi"}';
var obj =JSON.parse(json);

var str=JSON.stringify(obj);
console.log(str);        
//控制台返回 {"key":"value","jian":"zhi"}
*/
		function getExample() {
		
		}
		
        //转换
        function change() {
            var text = document.getElementById('json_content').value || "";
			var data =JSON.parse(text);

			var str = createStructureOfMarkdown(data);
            //console.log(str);
            document.getElementById('translateResult').value = str;
			
			return str;
        }
		// 下载文档
        function download() {
			exportTxt("api接口文档.md", change());
        }
    </script>
</body>

</html>